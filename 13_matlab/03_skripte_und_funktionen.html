
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Skripte und Funktionen &#8212; Modellbildung und Simulation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >let toggleHintShow = 'Click to show';</script>
    <script >let toggleHintHide = 'Click to hide';</script>
    <script >let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "joergbrech/Modellbildung-und-Simulation");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "üí¨ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Rechnen mit Matlab" href="04_matlab_kennenlernen.html" />
    <link rel="prev" title="Matlab Command Window" href="02_matlab_command_window.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-134708516-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/hbrs_logo_text.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Modellbildung und Simulation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../00_einleitung/00_einleitung.html">
   Einleitung
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../00_einleitung/01_motivation.html">
     Das Stauproblem - Motivation zur Benutzung dieses Buches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00_einleitung/02_verwendung_dieses_buches.html">
     Verwendung dieses Buches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00_einleitung/03_best_practice.html">
     Best Practices
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01_uebungen/00_uebungsaufgaben.html">
   Einleitende √úbungsaufgaben
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_uebungen/01_fluessigkeit_im_boden.html">
     Fl√ºssigkeit im Boden
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_uebungen/02_verkehrssimulation.html">
     Verkehrssimulation mit zellul√§ren Automaten
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_uebungen/03_der_perfekte_wurf.html">
     Der perfekte Wurf
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01_uebungen/04_game_of_life.html">
     Game of Life
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02_gleitkommaarithmetik/00_gleitkommaarithmetik.html">
   Gleitkommaarithmetik
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_gleitkommaarithmetik/01_%C3%BCbungen.html">
     √úbungen zur Gleitkommaarithmetik
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02_gleitkommaarithmetik/02_taylor.html">
     Funktionen mit Taylorpolynomen berechnen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03_interp_approx/00_interpolation_Und_approximation.html">
   Interpolation und Approximation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_interp_approx/01_lineare_interpolation.html">
     Lineare Interpolation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_interp_approx/02_lineare_approximation.html">
     Lineare Approximation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03_interp_approx/03_spline_interpolation.html">
     Spline-Interpolation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04_Differentiation_Integration/00_differentiation_und_integration.html">
   Differentiation und Integration
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04_Differentiation_Integration/01_differentiation.html">
     Numerische Differentiation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04_Differentiation_Integration/02_integration_and_stepcontrol.html">
     Numerische Integration (mit Schrittweitensteuerung)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05_lineare_gleichungen/00_lineare_gleichungssysteme.html">
   Lineare Gleichungssysteme
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05_lineare_gleichungen/01_modellierung_einer_highline.html">
     Modellierung einer Highline
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06_nichtlineare_gleichungen/00_nichtlineare_gleichungssysteme.html">
   Nichtlineare Gleichungssysteme
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06_nichtlineare_gleichungen/01_newton-verfahren.html">
     Newton-Verfahren
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06_nichtlineare_gleichungen/02_bierschaumzerfall.html">
     Bierschaumzerfall
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07_num_ode/00_numerik_gew%C3%B6hnlicher_differentialgleichungen.html">
   Gew√∂hnliche Differentialgleichungen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../07_num_ode/01_intro_RK/00_intro_RK.html">
     Einf√ºhrung in numerische Integrationsverfahren von ODEs
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../07_num_ode/01_intro_RK/01_integration_RK.html">
       Integration von ODEs mit expliziten Verfahren
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../07_num_ode/01_intro_RK/02_integration_implicit.html">
       Integration von ODEs mit impliziten Verfahren
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../07_num_ode/01_intro_RK/03_integration_RK_evaluation.html">
       Lohnen sich Verfahren h√∂herer Ordnung?
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../07_num_ode/01_intro_RK/04_adaptive_steps.html">
       Adaptive Schrittweitensteuerung
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../07_num_ode/01_intro_RK/05_oscillation_and_vdpol.html">
       Systeme von ODEs
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07_num_ode/02_simulation_eines_raketenstarts/00_simulation_eines_raketenstarts.html">
     Simulation eines Raketenstarts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07_num_ode/03_stabilitaet_eulerverfahren/00_stabilitaet_eulerverfahren.html">
     Stabilit√§t des expliziten versus impliziten Eulerverfahrens
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07_num_ode/04_modellierung_einer_highline_dynamisch/00_modellierung_einer_highline_dynamisch.html">
     Modellierung einer Highline - Zeitliche Aufl√∂sung
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07_num_ode/05_mass-spring-mass/00_mass-spring-mass.html">
     Rutschendes Masse-Feder-Masse System
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08_schwingungen/00_schwingungen.html">
   Schwingungen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08_schwingungen/01_harmonische_schwingung.html">
     Harmonische Schwingung
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../09_eigenwerte/00_eigenwertprobleme.html">
   Eigenwertprobleme
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../09_eigenwerte/01_das_qr_verfahren.html">
     Das QR Verfahren
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../09_eigenwerte/02_nullstellen_von_polynomen.html">
     Nullstellen von Polynomen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../09_eigenwerte/03_schwingungsmoden_eines_eindimensionalen_balkens.html">
     Schwingungsmoden eines eindimensionalen Balkens
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../10_dft/00_diskrete_fouriertransformation.html">
   Diskrete Fouriertransformation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dft/01_approximation_von_periodischen_signalen.html">
     Approximation von periodischen Signalen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dft/02_filtern_verrauschter_signale.html">
     Filtern verrauschter Signale
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dft/03_der_doppler_effekt.html">
     Der Doppler Effekt
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../10_dft/04_vuvuzela_filter.html">
     Vuvuzela Filter
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../11_bvp/00_randwertprobleme.html">
   Randwertprobleme
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../11_bvp/01_durchhang_eines_flexiblen_kabels.html">
     Durchhang eines flexiblen Kabels
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../11_bvp/02_temperatur_in_einem_nuklearen_brennstab.html">
     Temperatur in einem nuklearen Brennstab
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../12_pde/00_partielle_differentialgleichungen.html">
   Partielle Differentialgleichungen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_pde/01_modellierung_einer_highline_dynamisch_pde.html">
     Modellierung einer Highline - Die L√∂sung als PDE
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_pde/02_konvektion_und_diffusion.html">
     Konvektion und Diffusion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../12_pde/03_trafficPDE.html">
     Verkehrssimulation mit finiten Volumen
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="00_MATLAB_introduction.html">
   Matlab Einf√ºhrung
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_erste_schritte_in_matlab.html">
     Matlab einrichten
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_matlab_command_window.html">
     Matlab Command Window
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Skripte und Funktionen
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_matlab_kennenlernen.html">
     Rechnen mit Matlab
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="05_matlab_videos/00_matlab_videos.html">
     Grundlagenkurs und Zusatz√ºbungen
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/01_exercise1.html">
       1. Messwerte importieren, plotten und bearbeiten
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/02_exercise2.html">
       2. Messwerte filtern und interpolieren
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/03_exercise3.html">
       3. Polynomfitting
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/04_exercise4.html">
       4. Fl√§chenberechnung und Newtonverfahren (1D)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/05_exercise5.html">
       5. Funktionsfitting und Newtonverfahren (nD)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/06_exercise6.html">
       6. Numerische Differentiation und Integration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/07_exercise7.html">
       7. Gew√∂hnliche Differentialgleichungen
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/08_exercise8.html">
       8. Gew√∂hnliche Differentialgleichungen und Event-Detektion
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/09_exercise9.html">
       9. Differential-Algebraische Gleichungen (1)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/10_exercise10.html">
       10. Differential-Algebraische Gleichungen (2)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="05_matlab_videos/11_extra.html">
       Zusatzinfo - Mehrdimensionales Newtonverfahren
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div align="left"> <a href="https://github.com/joergbrech/Modellbildung-und-Simulation"><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" style="width: 20px;"> Github Repository</a> <br> <a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/CC-BY-SA_icon.svg" alt="License: CC BY-SA 4.0"></a> <br> <a href="https://doi.org/10.5281/zenodo.2560551"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.2560551.svg" alt="DOI"></a> <br>Powered by <a href="https://github.com/jupyter/jupyter-book">Jupyter Book</a> </div>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/13_matlab/03_skripte_und_funktionen.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        
        
        <a class="edit-button" href="https://github.com/joergbrech/Modellbildung-und-Simulation/edit/master/content/13_matlab/03_skripte_und_funktionen.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/joergbrech/Modellbildung-und-Simulation/master?urlpath=lab/tree/content/13_matlab/03_skripte_und_funktionen.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#skripte">
   Skripte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#for-schleifen">
     for-Schleifen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#while-schleifen">
     while-Schleifen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#if-abfragen">
     if-Abfragen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafische-ausgabe">
     Grafische Ausgabe
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionen">
   Funktionen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eingabe-und-ausgabe">
     Eingabe und Ausgabe
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scope-von-variablen">
     Scope von Variablen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-handles">
     Function Handles
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rekursion">
     Rekursion
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Skripte und Funktionen</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#skripte">
   Skripte
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#for-schleifen">
     for-Schleifen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#while-schleifen">
     while-Schleifen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#if-abfragen">
     if-Abfragen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grafische-ausgabe">
     Grafische Ausgabe
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionen">
   Funktionen
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eingabe-und-ausgabe">
     Eingabe und Ausgabe
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scope-von-variablen">
     Scope von Variablen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#function-handles">
     Function Handles
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rekursion">
     Rekursion
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="section" id="skripte-und-funktionen">
<span id="id1"></span><h1>Skripte und Funktionen<a class="headerlink" href="#skripte-und-funktionen" title="Permalink to this headline">¬∂</a></h1>
<p>Bisher haben wir Befehle im <code class="docutils literal notranslate"><span class="pre">Command</span> <span class="pre">Window</span></code> eingeben und festgestellt, dass alle Variablen im <code class="docutils literal notranslate"><span class="pre">Workspace</span></code> hinterlegt werden. In diesem Kapitel widmen wir uns dem <code class="docutils literal notranslate"><span class="pre">Editor</span></code>. Wir benutzen ihn, um Skripte und Funktionen zu schreiben. Beide werden als Textdateien mit der Endung <code class="docutils literal notranslate"><span class="pre">.m</span></code> gespeichert. Prinzipiell k√∂nnen wir diese Textdateien mit jedem beliebigen Texteditor schreiben, der Editor in Matlab bietet aber einige n√ºtzliche Funktionen. Allein <em>Syntax-Highlighting</em> kann schon sehr hilfreich sein.</p>
<div class="section" id="skripte">
<h2>Skripte<a class="headerlink" href="#skripte" title="Permalink to this headline">¬∂</a></h2>
<p>Matlab-Skripte sind einfache Textdateien, die eine Abfolge von Matlab-Befehlen enthalten. Diese werden nach einander abgearbeitet.</p>
<p>Das <code class="docutils literal notranslate"><span class="pre">%</span></code>-Zeichen l√§utet in Matlab einen Kommentar ein. Kommentare helfen dabei, die Skripte nachvollziehbar zu machen. Wie in <em>ALLEN</em> Programmiersprachen gilt auch in MATLAB: <strong>Kommentieren Sie Ihren Code!</strong>
Es kommt nicht selten vor, dass man nach Wochen in ein altes Matlab-Skript schaut, sich fragt was man damals eigentlich gemacht hat und sich w√ºnscht, man h√§tte es besser kommentiert.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file myScript.m</span>
<span class="c">% Ein kleines Beispielskript</span>
<span class="c">% mit Kommentaren</span>

<span class="c">% Initialisiere Variablen a und b</span>
<span class="n">a</span> <span class="p">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">b</span> <span class="p">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">;</span>

<span class="c">% √Ñndere Variable a</span>
<span class="n">a</span> <span class="p">=</span> <span class="n">a</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>

<span class="c">% Ausgabe erzwingen, durch weglassen des Semikolons am Ende der Zeile</span>
<span class="n">a</span>
<span class="n">b</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition-hinweis admonition">
<p class="admonition-title">Hinweis</p>
<p><em>Die allererste Zeile</em></p>
<p><code class="docutils literal notranslate"><span class="pre">%%file</span> <span class="pre">myScript.m</span></code></p>
<p><em>besagt nur, dass alles was folgt Inhalt der Datei <code class="docutils literal notranslate"><span class="pre">myScript.m</span></code> ist. Der eigentliche Inhalt der Datei beginnt ab der darauf folgenden Zeile.</em></p>
<p><code class="docutils literal notranslate"><span class="pre">%</span> <span class="pre">Ein</span> <span class="pre">kleines</span> <span class="pre">Beispielskript</span></code>.</p>
<p>Dieses Skript wird mit dem <code class="docutils literal notranslate"><span class="pre">run</span></code> Befehl ausgef√ºhrt.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="nb">run</span> <span class="n">myScript</span><span class="p">.</span><span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>a =  2.5000
b =  10
</pre></div>
</div>
</div>
</div>
<p>Wir d√ºrfen an dieser Stelle die Dateiendung <code class="docutils literal notranslate"><span class="pre">.m</span></code> weglassen. Tats√§chlich ist der <code class="docutils literal notranslate"><span class="pre">run</span></code> Befehl auch nicht zwingend n√∂tig. Die Befehle <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">myScript.m</span></code>, <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">myScript</span></code>, <code class="docutils literal notranslate"><span class="pre">myScript.m</span></code>, <code class="docutils literal notranslate"><span class="pre">myScript</span></code> haben alle denselben Effekt: Die Befehle in <code class="docutils literal notranslate"><span class="pre">myScript.m</span></code> werden ausgef√ºhrt.</p>
<p>Im Matlab-Editor kann das aktuell ge√∂ffnete Skript mit <code class="docutils literal notranslate"><span class="pre">F5</span></code> oder per Mausklick auf den gro√üen gr√ºnen Play-Button gestartet werden.</p>
<img alt="Interacte Mode Code-Cell" class="align-center" src="../_images/matlab_run_button.png" />
<p>Es bietet sich an, in den ersten paar Zeilen jedes Skriptes zu beschreiben, welchem Zweck das Skript dient. Diese ersten Zeilen lassen sich mit dem <code class="docutils literal notranslate"><span class="pre">help</span></code> Befehl ausgeben:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">help</span> <span class="n">myScript</span><span class="p">.</span><span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;myScript.m&#39; is the file /mnt/d/documents/modellbildung-und-simulation/content/00_einleitung/myScript.m

 Ein kleines Beispielskript
 mit Kommentaren


Additional help for built-in functions and operators is
available in the online version of the manual.  Use the command
&#39;doc &lt;topic&gt;&#39; to search the manual index.

Help and information about Octave is also available on the WWW
at http://www.octave.org and via the help@octave.org
mailing list.
</pre></div>
</div>
</div>
</div>
<div class="section" id="for-schleifen">
<h3>for-Schleifen<a class="headerlink" href="#for-schleifen" title="Permalink to this headline">¬∂</a></h3>
<p>Wie in anderen Programmiersprachen k√∂nnen in MATLAB auch Schleifen verwendet werden. Die Syntax f√ºr eine for-Schleife ist</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span>
    <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)=</span><span class="mi">2</span>^<span class="n">i</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p>Der Code zwischen der <code class="docutils literal notranslate"><span class="pre">for</span></code>-  und der <code class="docutils literal notranslate"><span class="pre">end</span></code>-Zeile wird f√ºnf mal ausgef√ºhrt. Bei jeder Ausf√ºhrung wird eine <em>Laufvariable</em> <code class="docutils literal notranslate"><span class="pre">i</span></code> um Eins erh√∂ht. Wir greifen in diesem Beispiel in jedem Durchlauf auf die <span class="math notranslate nohighlight">\(i\)</span>-te Stelle eines Vektors <span class="math notranslate nohighlight">\(f\)</span> zu, und beschreiben diese Stelle mit <span class="math notranslate nohighlight">\(2^i\)</span>. Dabei wird der Vektor f automatisch in jedem Schleifendurchlauf um ein Element erweitert. Matlab macht den Vektor nur so gro√ü, wie f√ºr die Ausf√ºhrung des Befehls n√∂tig ist. Es ist zu beachten, dass in MATLAB auf das erste Element eines Vektors mit dem Index 1 zugegriffen wird.</p>
<p>Es besteht die M√∂glichkeit die Schrittweite der Laufvariablen anzupassen. Auf diese Weise k√∂nnen auch Laufvariablen benutzt werden, die nicht ganzzahlig sind:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">t</span><span class="p">=</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">:</span><span class="o">-</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">:</span><span class="mi">0</span>
    <span class="n">x</span> <span class="p">=</span> <span class="p">[</span><span class="nb">cos</span><span class="p">(</span><span class="n">t</span><span class="p">),</span> <span class="nb">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)]</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x =

   1.0000e+00  -2.4493e-16

x =

  -1.8370e-16  -1.0000e+00

x =

  -1.0000e+00   1.2246e-16

x =

   6.1232e-17   1.0000e+00

x =

   1   0
</pre></div>
</div>
</div>
</div>
<p><strong>Quiz:</strong> Wie sieht der Vektor <span class="math notranslate nohighlight">\(f\)</span> aus, der von folgender for-Schleife erzeugt wird?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">clear</span> <span class="n">f</span>
<span class="k">for</span> <span class="n">i</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span>
    <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)=</span><span class="mi">2</span>^<span class="n">i</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p>Bei for-Schleifen ist √ºber die Laufvariable die Anzahl der Aufrufe vor dem Beginn der Schleife klar. Es ist zwar m√∂glich, die Laufvariable selbst in der Schleife zu ver√§ndern, das sollte aber auf jeden Fall vermieden werden. Der Code wird dadurch nicht mehr intuitiv verst√§ndlich und es ist eine wahrscheinliche Fehlerquelle.</p>
</div>
<div class="section" id="while-schleifen">
<h3>while-Schleifen<a class="headerlink" href="#while-schleifen" title="Permalink to this headline">¬∂</a></h3>
<p>while-Schleifen bieten eine weiter M√∂glichkeit, einen Code-Block wiederholt auszuf√ºhren. Eine while-Schleife wird solange ausgef√ºhrt, bis eine Aussage nicht mehr zutrifft. Dabei muss dem Programmierer vorher nicht bekannt sein, wieviele Schleifendurchl√§ufe daf√ºr n√∂tig sind.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="p">=</span> <span class="nb">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="k">while</span> <span class="nb">abs</span><span class="p">(</span> <span class="nb">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="n">x</span> <span class="p">)</span><span class="o">/</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mf">0.01</span>
    <span class="n">x</span> <span class="p">=</span> <span class="mf">0.99</span><span class="o">*</span><span class="n">x</span><span class="p">;</span>
<span class="k">end</span>
<span class="nb">disp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 0.24470
</pre></div>
</div>
</div>
</div>
<p>Die Anweisung <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">0.99*x</span></code> wird solange ausgef√ºhrt, bis <span class="math notranslate nohighlight">\(\frac{\lvert \sin(x) - x \rvert}{x}\)</span> nicht mehr gr√∂√üer als <span class="math notranslate nohighlight">\(0.01\)</span> ist.
Das kleine Programm sch√§tzt auf eine etwas ungenaue Art ab, bis zu welchem Wert die Kleinwinkeln√§herung <span class="math notranslate nohighlight">\(\sin(x) \approx x\)</span> relative Fehler von unter <span class="math notranslate nohighlight">\(1 \%\)</span> liefert.</p>
<p><strong>Challenge:</strong> Fallen Ihnen Wege ein, die Absch√§tzung genauer zu gestalten?</p>
<p>Eine for-Schleife kann immer in eine while-Schleife umgeschrieben werden. Folgende Code-Bl√∂cke liefern das selbe Ergebnis:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span>
    <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)=</span><span class="mi">2</span>^<span class="n">i</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">i</span><span class="p">=</span><span class="mi">1</span><span class="p">;</span>
<span class="k">while</span> <span class="n">i</span><span class="o">&lt;</span><span class="p">=</span><span class="mi">5</span>
    <span class="n">f</span><span class="p">(</span><span class="n">i</span><span class="p">)=</span><span class="mi">2</span>^<span class="n">i</span><span class="p">;</span>
    <span class="n">i</span> <span class="p">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Best Practice:</strong> Verwenden Sie while-Schleifen, wenn die Anzahl der Durchl√§ufe unbekannt ist und for-Schleifen, wenn sie bekannt ist.</p>
</div>
<div class="section" id="if-abfragen">
<h3>if-Abfragen<a class="headerlink" href="#if-abfragen" title="Permalink to this headline">¬∂</a></h3>
<p>Oft ist es n√ºtzlich, bestimmte Befehle nur auszuf√ºhren, wenn eine Bedingung erf√ºllt ist. Dies erreicht man mit if-Bedingungen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">zaehler</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">();</span>
<span class="n">nenner</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">();</span>
<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">nenner</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">1e-8</span>
    <span class="n">x</span> <span class="p">=</span> <span class="n">zaehler</span><span class="o">/</span><span class="n">nenner</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x =  1.4199
</pre></div>
</div>
</div>
</div>
<p>Der Codeblock erstellt nur dann eine Variable <code class="docutils literal notranslate"><span class="pre">x</span></code>, wenn der Nenner des Bruchs gr√∂√üer als <span class="math notranslate nohighlight">\(10^{-8}\)</span> ist. Wir sollten den Fall abfangen, wenn diese Bedingung mal nicht erf√ºllt wird. Dies erreicht man mit if-then-else-Bedingungen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">zaehler</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">();</span>
<span class="n">nenner</span> <span class="p">=</span> <span class="nb">rand</span><span class="p">();</span>
<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">nenner</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">1e-8</span>
    <span class="n">x</span> <span class="p">=</span> <span class="n">zaehler</span><span class="o">/</span><span class="n">nenner</span>
<span class="k">else</span>
    <span class="n">x</span> <span class="p">=</span> <span class="mi">1</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x =  0.96087
</pre></div>
</div>
</div>
</div>
<p>Es kann auch vorkommen, dass mehr als eine Bedingung abgefragt werden muss. In diesem Fall hilft eine if-then-elseif-else-Bedingung. Das kann zum Beispiel Sinn haben, wenn eine Variable eine Kategorie beschreibt, wie zum Beispiel Tierarten.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file oldmcdonald.m</span>
<span class="c">% make some animal noises</span>

<span class="n">animal</span> <span class="p">=</span> <span class="s">&quot;cow&quot;</span><span class="p">;</span>

<span class="k">if</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span> <span class="s">&quot;cat&quot;</span><span class="p">)</span>
    <span class="nb">disp</span><span class="p">(</span><span class="s">&quot;Meaow&quot;</span><span class="p">)</span>
<span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;dog&quot;</span><span class="p">)</span>
    <span class="nb">disp</span><span class="p">(</span><span class="s">&quot;Woof! Woof!&quot;</span><span class="p">)</span>
<span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;cow&quot;</span><span class="p">)</span>
    <span class="nb">disp</span><span class="p">(</span><span class="s">&quot;Moooooh!&quot;</span><span class="p">)</span>
<span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;kangaroo&quot;</span><span class="p">)</span>
    <span class="nb">disp</span><span class="p">(</span><span class="s">&quot;Gib mir eine Schnapspraline.&quot;</span><span class="p">)</span>
<span class="k">else</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;I don&#39;t know what kind of noise a &quot;</span><span class="p">,</span> <span class="n">animal</span><span class="p">,</span> <span class="s">&quot; makes.&quot;</span><span class="p">])</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="nb">run</span> <span class="n">oldmcdonald</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Moooooh!
</pre></div>
</div>
</div>
</div>
<p>In Matlab k√∂nnen wir Strings nicht mit <code class="docutils literal notranslate"><span class="pre">==</span></code> auf Gleichheit pr√ºfen. Daf√ºr stellt Matlab die Funktion <code class="docutils literal notranslate"><span class="pre">strcmp</span></code> bereit.</p>
<p>Mit den bis hierher vorgestellten Werkzeugen k√∂nnen wir schon recht komplexe Programme schreiben. Das folgende iterative Programm sucht eine Nullstelle des Polynoms <span class="math notranslate nohighlight">\(y(x)= -x^4 + x^3 - x^2 + x + 1\)</span> im Interval <span class="math notranslate nohighlight">\([-1,1]\)</span>. Wir nutzen aus, dass wir wissen, das die Funktion bei 1 positiv, und bei -1 negativ ist. Das hei√üt irgendwo dazwischen muss mindestens eine Nullstelle liegen.</p>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">% plot f(x) = -x^4 + x^3 - x^2 + x + 1;</span>
<span class="n">x</span> <span class="p">=</span> <span class="nb">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">);</span>
<span class="n">y</span> <span class="p">=</span> <span class="o">-</span><span class="n">x</span><span class="o">.^</span><span class="mi">4</span> <span class="o">+</span> <span class="n">x</span><span class="o">.^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">x</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="s">&#39;LineWidth&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="k">set</span><span class="p">(</span><span class="nb">gca</span><span class="p">,</span><span class="s">&#39;XGrid&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">,</span> <span class="s">&#39;YGrid&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">)</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;y(x) = -x^4 + x^3 - x^2 + x + 1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_skripte_und_funktionen_26_0.png" src="../_images/03_skripte_und_funktionen_26_0.png" />
</div>
</div>
<p>Das Programm macht maximal 100 Iterationen, die √ºber eine for-Schleife realisiert werden. In jeder Iteration wird die Gr√∂√üe des Intervalls um die Nullstelle mittels <em>Bisektion</em> halbiert. √úber eine if-Bedingung wird untersucht, ob die gew√ºnschte Genauigkeit erreicht wird. Wenn ja, wird die for-Schleife mit dem <code class="docutils literal notranslate"><span class="pre">break</span></code> Befehl unterbrochen.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file bisection.m</span>
<span class="c">% find a zero of the polynomial </span>
<span class="c">%</span>
<span class="c">%      y(x)= -x^4 + x^3 - x^2 + x + 1</span>
<span class="c">%</span>
<span class="c">% in the interval [-1,1] using bisection</span>

<span class="c">%% input parameters:</span>
<span class="n">tolerance</span> <span class="p">=</span> <span class="mf">1e-8</span><span class="p">;</span>    <span class="c">% if the absolute value of y(x) is smaller than this, we consider</span>
                     <span class="c">% the point x to be a zero.</span>
<span class="n">maxIterations</span> <span class="p">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c">% maximum number of iterations</span>
<span class="n">xlower</span> <span class="p">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>         <span class="c">% lower bound of the interval</span>
<span class="n">xupper</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>          <span class="c">% upper bound of the invertal. y(xlower) and y(xupper) must have</span>
                     <span class="c">% different signs!</span>

<span class="c">% this variable is set to true once the iteration converged</span>
<span class="n">converged</span> <span class="p">=</span> <span class="nb">false</span><span class="p">;</span>

<span class="k">for</span> <span class="n">iteration</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="n">maxIterations</span>
    
    <span class="c">% take the middle between the two bounds</span>
    <span class="n">midpoint</span> <span class="p">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">xupper</span> <span class="o">+</span> <span class="n">xlower</span><span class="p">);</span>
    
    <span class="c">% check the function value at this point</span>
    <span class="n">fmidpoint</span> <span class="p">=</span> <span class="o">-</span><span class="n">midpoint</span>^<span class="mi">4</span> <span class="o">+</span> <span class="n">midpoint</span>^<span class="mi">3</span> <span class="o">-</span> <span class="n">midpoint</span>^<span class="mi">2</span> <span class="o">+</span> <span class="n">midpoint</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    
    <span class="c">% if the function value is small enough, we are done</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">fmidpoint</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tolerance</span>
        <span class="n">converged</span> <span class="p">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">end</span>
    
    <span class="c">% if we reach this point, we have not converged. </span>
    
    <span class="c">% reset the limits and repeat</span>
    <span class="k">if</span> <span class="n">fmidpoint</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="n">xupper</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">xlower</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="n">result</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>

<span class="k">if</span> <span class="n">converged</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;Converged in &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">iteration</span><span class="p">),</span> <span class="s">&quot; iterations. The solution is &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="s">&quot;.&quot;</span><span class="p">])</span>
<span class="k">else</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;No convergence to the specified tolerance of &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">tolerance</span><span class="p">),</span>  <span class="p">...</span>
          <span class="s">&quot; within &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">iteration</span><span class="p">),</span> <span class="s">&quot; iterations. The current error is &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">fmidpoint</span><span class="p">),</span> <span class="s">&quot;.&quot;</span><span class="p">])</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="nb">run</span> <span class="n">bisection</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Converged in 25 iterations. The solution is -0.51879.
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="grafische-ausgabe">
<h3>Grafische Ausgabe<a class="headerlink" href="#grafische-ausgabe" title="Permalink to this headline">¬∂</a></h3>
<p>Es gibt in Matlab eine Vielzahl von Methoden, um den Inhalt von Vektoren grafisch darzustellen. Die <code class="docutils literal notranslate"><span class="pre">plot</span></code> Funktion ist n√ºtzlich, um funktionale Zusammenh√§nge darzustellen. Sie nimmt als Eingabe zwei gleichgro√üe Vektoren <code class="docutils literal notranslate"><span class="pre">x</span></code> und <code class="docutils literal notranslate"><span class="pre">y</span></code>, wobei der erste die <span class="math notranslate nohighlight">\(x\)</span>-Koordinaten und der zweite die <span class="math notranslate nohighlight">\(y\)</span>-Koordinaten enth√§lt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="p">=</span> <span class="nb">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">);</span>   <span class="c">% Ein Vektor mit Werten von -5 bis 5</span>
<span class="n">y</span> <span class="p">=</span> <span class="n">x</span><span class="o">.^</span><span class="mi">2</span><span class="p">;</span>                <span class="c">% Ein Vektor y mit den zugeh√∂rigen Funktionswerten </span>

<span class="nb">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>             <span class="c">% Erstellen einer grafischen Darstellung</span>
<span class="nb">title</span><span class="p">(</span><span class="s">&#39;Mein erster plot y = x^2&#39;</span><span class="p">)</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;X-Achsenbeschriftung&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;Y-Achsenbeschriftung&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_skripte_und_funktionen_31_0.png" src="../_images/03_skripte_und_funktionen_31_0.png" />
</div>
</div>
<p>√úber die vielen Funktionen rund um die Visualisierung und deren Optionen informieren Sie sich bitte in der Matlab Dokumentation. An dieser Stelle soll abschlie√üend nur noch auf zwei Features aufmerksam gemacht werden:</p>
<ul class="simple">
<li><p>H√§ufig m√∂chte man mehrere Graphen in einem Koordinatensystem darstellen. Matlab √ºberschreibt die Ergebnisse standardm√§√üig. Dieses Verhalten kann aber mit dem Befehl <code class="docutils literal notranslate"><span class="pre">hold</span> <span class="pre">on</span></code> ausgehebelt werden.</p></li>
<li><p>Das Koordinatensystem in Matlab ist ein Objekt vom Typ <code class="docutils literal notranslate"><span class="pre">axes</span></code>. Mit dem Befehl <code class="docutils literal notranslate"><span class="pre">gca</span></code>, kurz f√ºr <em>get current axes</em>, l√§sst sich ein <em>handle</em> f√ºr das aktuell verwendete Koordinatensystem wiedergeben. Eigenschaften des Koordinatensystems lassen sich dann mit den Befehlen <code class="docutils literal notranslate"><span class="pre">set(gca,</span> <span class="pre">...)</span></code> und <code class="docutils literal notranslate"><span class="pre">get(gca,</span> <span class="pre">...)</span></code> abfragen bzw. √§ndern. Das ist ein n√ºtzliches Feature, wenn man tiefergreifende Eigenschaften √§ndern m√∂chte, als nur die Achsenbeschriftungen.</p></li>
</ul>
<p>Im folgenden werden diese beiden Features in einem Skript benutzt, das f√ºr zehn verschiedene Parameter <span class="math notranslate nohighlight">\(D \in [0.1, 1.0]\)</span> die Funktion</p>
<div class="math notranslate nohighlight">
\[ y(x) = \frac{1}{\sqrt{(1-x^2)^2 + (2Dx)^2}} \]</div>
<p>√ºber das Interval <span class="math notranslate nohighlight">\(x \in [0, 3]\)</span> plottet.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file resonance_catastrophe.m</span>
<span class="c">% plot the resonance catastrophe curve </span>
<span class="c">%</span>
<span class="c">%     y(x) = 1./sqrt((1-x.^2).^2 + (2*D*x).^2)</span>
<span class="c">%</span>
<span class="c">% for different damping parameters D</span>

<span class="c">% x values of the plot = 500 equally spaced points in the interval [0, 3]</span>
<span class="n">x</span> <span class="p">=</span> <span class="nb">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>

<span class="c">% make sure that each new plot call does not overwrite old results</span>
<span class="nb">hold</span> <span class="n">on</span>

<span class="c">% plot 10 functions depending on a parameter D</span>
<span class="k">for</span> <span class="n">D</span> <span class="p">=</span> <span class="mf">0.1</span><span class="p">:</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">1</span>

    <span class="c">% set some variables denoting properties of the current plot</span>
    <span class="n">plotname</span> <span class="p">=</span> <span class="p">[</span><span class="s">&#39;D = &#39;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">D</span><span class="p">)];</span>              <span class="c">% name that shall appear in the legend</span>
    <span class="n">plotcolor</span> <span class="p">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">D</span><span class="p">)</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">D</span><span class="o">*</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">];</span>    <span class="c">% RGB value that shall be used for the plot</span>
    
    <span class="c">% plot the function with some additional options</span>
    <span class="nb">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="nb">sqrt</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="o">.^</span><span class="mi">2</span><span class="p">)</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">D</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.^</span><span class="mi">2</span><span class="p">),</span> <span class="p">...</span>
         <span class="s">&#39;DisplayName&#39;</span><span class="p">,</span> <span class="n">plotname</span><span class="p">,</span> <span class="p">...</span>
         <span class="s">&#39;Color&#39;</span><span class="p">,</span> <span class="n">plotcolor</span><span class="p">,</span> <span class="p">...</span>
         <span class="s">&#39;LineWidth&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
    
<span class="k">end</span>

<span class="c">% set some options for the current axis</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;\Omega/\omega_0&#39;</span><span class="p">,</span> <span class="s">&#39;fontsize&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;(A_\Omega*k)/F&#39;</span><span class="p">,</span> <span class="s">&#39;fontsize&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="k">set</span><span class="p">(</span><span class="nb">gca</span><span class="p">,</span> <span class="s">&#39;Box&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">,</span> <span class="s">&#39;XGrid&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">,</span> <span class="s">&#39;YGrid&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">)</span>

<span class="c">% show a legend</span>
<span class="nb">legend</span> <span class="n">toggle</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="nb">run</span> <span class="n">resonance_catastrophe</span><span class="p">.</span><span class="n">m</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_skripte_und_funktionen_34_0.png" src="../_images/03_skripte_und_funktionen_34_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="funktionen">
<h2>Funktionen<a class="headerlink" href="#funktionen" title="Permalink to this headline">¬∂</a></h2>
<p>Mit Skripten k√∂nnen wir also Algorithmen als eine Abfolge von Anweisungen umsetzen. Funktionen zeichnen sich, im Gegensatz zu Skripten, dadurch aus, dass es eine klare Trennung von Eingabe, Ausgabe und Anweisungen gibt. Dies bietet sich insbesondere dann an, wenn die Funktion einen Algorithmus repr√§sentiert, der oft an verschiedenen Stellen ausgef√ºhrt werden soll.</p>
<div class="section" id="eingabe-und-ausgabe">
<h3>Eingabe und Ausgabe<a class="headerlink" href="#eingabe-und-ausgabe" title="Permalink to this headline">¬∂</a></h3>
<p>Funktionen werden in Matlab mit dem <code class="docutils literal notranslate"><span class="pre">function</span></code> keyword eingeleitet. Das folgende m-file <code class="docutils literal notranslate"><span class="pre">oldmcdonald.m</span></code> definiert eine Funktion mit Namen <code class="docutils literal notranslate"><span class="pre">oldmcdonald</span></code>, die f√ºr einen Tiernamen <code class="docutils literal notranslate"><span class="pre">animal</span></code> als Eingabe einen Laut <code class="docutils literal notranslate"><span class="pre">sound</span></code> als Ausgabe ausgibt. Sowohl <code class="docutils literal notranslate"><span class="pre">animal</span></code> und <code class="docutils literal notranslate"><span class="pre">sound</span></code> werden als strings definiert.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file oldmcdonald.m</span>
<span class="k">function</span><span class="w"> </span>sound<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">oldmcdonald</span><span class="p">(</span>animal<span class="p">)</span><span class="w"></span>
<span class="c">% oldmcdonald takes an input string &quot;animal&quot; and outputs a &quot;noise&quot;</span>
<span class="c">% corresponding to the input. If the animal is unknown, an </span>
<span class="c">% error is thrown.</span>
<span class="c">% </span>
<span class="c">% input:     animal can be any of [&quot;cat&quot;, &quot;dog&quot;, &quot;cow&quot;, &quot;kangaroo&quot;]</span>
<span class="c">% output:    noise</span>
<span class="c">%</span>
    <span class="k">if</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span> <span class="s">&quot;cat&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Meaow&quot;</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;dog&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Woof! Woof!&quot;</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;cow&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Moooooh!&quot;</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;kangaroo&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Gib mir eine Schnapspraline.&quot;</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="nb">error</span><span class="p">([</span><span class="s">&quot;I don&#39;t know what kind of noise a &quot;</span><span class="p">,</span> <span class="n">animal</span><span class="p">,</span> <span class="s">&quot; makes.&quot;</span><span class="p">]);</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Wichtig:</strong> Der Dateiname muss genau dem Funktionsnamen entsprechen.</p>
<p>Wenn sich die Datei im aktuellen Arbeitsverzeichnis befindet, steht uns die Funktion f√ºr die Verwendung im Command Window oder in einem Skript zur Verf√ºgung. Die Ausgabe kann ich nun entweder der tempor√§ren Variable <code class="docutils literal notranslate"><span class="pre">ans</span></code> oder einer Variablen mit beliebigem Namen zuordnen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">oldmcdonald</span><span class="p">(</span><span class="s">&#39;cat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ans = Meaow
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">noise</span> <span class="p">=</span> <span class="n">oldmcdonald</span><span class="p">(</span><span class="s">&#39;dog&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>noise = Woof! Woof!
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">oldmcdonald</span><span class="p">(</span><span class="s">&#39;penguin&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>error: I don&#39;t know what kind of noise a penguin makes.
error: called from
    oldmcdonald at line 18 column 9
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">help</span> <span class="n">oldmcdonald</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;oldmcdonald&#39; is a function from the file /mnt/d/documents/modellbildung-und-simulation/content/00_einleitung/oldmcdonald.m

 oldmcdonald takes an input string &quot;animal&quot; and outputs a &quot;noise&quot;
 corresponding to the input. If the animal is unknown, an 
 error is thrown.
 
 input:     animal can be any of [&quot;cat&quot;, &quot;dog&quot;, &quot;cow&quot;, &quot;kangaroo&quot;]
 output:    noise



Additional help for built-in functions and operators is
available in the online version of the manual.  Use the command
&#39;doc &lt;topic&gt;&#39; to search the manual index.

Help and information about Octave is also available on the WWW
at http://www.octave.org and via the help@octave.org
mailing list.
</pre></div>
</div>
</div>
</div>
<p>Jede Funktion muss in einer Datei mit demselben Namen der Funktion definiert werden. F√ºr kleine Funktionen, die nur in einem bestimmten Skript verwendet werden, bietet Matlab/Octave die M√∂glichkeit, die Funktion <em>am Ende des Skriptes</em> zu definieren:</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file mylittlefarm.m</span>
<span class="c">% make a bunch of noises using the oldmcdonald function from before</span>

<span class="c">% define some animals</span>
<span class="n">animals</span> <span class="p">=</span> <span class="p">{</span><span class="s">&quot;cat&quot;</span><span class="p">,</span> <span class="s">&quot;dog&quot;</span><span class="p">,</span> <span class="s">&quot;cow&quot;</span><span class="p">,</span> <span class="s">&quot;kangaroo&quot;</span><span class="p">};</span>

<span class="c">% let each animal have his or her say</span>
<span class="k">for</span> <span class="n">i</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="nb">numel</span><span class="p">(</span><span class="n">animals</span><span class="p">)</span>
    <span class="nb">disp</span><span class="p">(</span><span class="n">oldmcdonald</span><span class="p">(</span><span class="n">animals</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
<span class="k">end</span>

<span class="c">% define the function &quot;oldmcdonald&quot;</span>
<span class="k">function</span><span class="w"> </span>sound<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">oldmcdonald</span><span class="p">(</span>animal<span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span> <span class="s">&quot;cat&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Meaow&quot;</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;dog&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Woof! Woof!&quot;</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;cow&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Moooooh!&quot;</span><span class="p">;</span>
    <span class="k">elseif</span> <span class="nb">strcmp</span><span class="p">(</span><span class="n">animal</span><span class="p">,</span>  <span class="s">&quot;kangaroo&quot;</span><span class="p">)</span>
        <span class="n">sound</span> <span class="p">=</span> <span class="s">&quot;Gib mir eine Schnapspraline.&quot;</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="nb">error</span><span class="p">([</span><span class="s">&quot;I don&#39;t know what kind of noise a &quot;</span><span class="p">,</span> <span class="n">animal</span><span class="p">,</span> <span class="s">&quot; makes.&quot;</span><span class="p">]);</span>
    <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="nb">run</span> <span class="n">mylittlefarm</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Meaow
Woof! Woof!
Moooooh!
Gib mir eine Schnapspraline.
</pre></div>
</div>
</div>
</div>
<p>Es ist zwingend notwendig, dass alle Funktionen am Ende eines Skriptes definiert werden.</p>
<p>Anmerkung: F√ºr die Liste <code class="docutils literal notranslate"><span class="pre">animals</span></code> in <code class="docutils literal notranslate"><span class="pre">mylittlefarm.m</span></code> wird keine Matrix verwendet, sondern eine sogenannte <code class="docutils literal notranslate"><span class="pre">cell</span></code>, die unterschiedlich gro√üe Variablen enthalten kann. Das erkennt man an der Verwendung der geschweiften Klammern <code class="docutils literal notranslate"><span class="pre">{}</span></code> anstelle der eckigen Klammern <code class="docutils literal notranslate"><span class="pre">[]</span></code>. Strings unterschiedlicher L√§nge k√∂nnen nicht in einer Matrix gespeichert werden, da sonst jeder Buchstabe einzeln hinterlegt wird.</p>
</div>
<div class="section" id="scope-von-variablen">
<h3>Scope von Variablen<a class="headerlink" href="#scope-von-variablen" title="Permalink to this headline">¬∂</a></h3>
<p>In dem obigen Beispiel geschieht die Trennung von Eingabe, Anweisungen und Ausgabe rein syntaktisch. Tats√§chlich ist die Trennung aber st√§rker, da Funktionen die Sichtbarkeit von Variablen einschr√§nken. Die Sichtbarkeit einer Variable in einem Code wird mit dem englischen Begriff <em>scope</em> bezeichnet.</p>
<p>Im Inneren einer Funktion sind ausschlie√ülich die Variablen bekannt, die durch die Anweisungen im Funktionsblock erstellt wurden oder aus der Eingabe eingelesen wurden. Alle anderen Variablen die sich zur Zeit der Ausf√ºhrung im Workspace befinden k√∂nnen nicht verwendet werden. Genauso sind alle Variablen, die durch Anweisungen im Funktionsblock erstellt werden, nicht im Workspace verwendbar. Auf diese Art und Weise werden keine Hilfsvariablen, die zur L√∂sung eines Problems innerhalb der Funktion dienen, nach au√üen sichtbar. Au√üerdem k√∂nnen nicht ausversehen Variablen verwendet werden, die mit der L√∂sung des Problems nichts zutun haben.</p>
<p>Am einfachsten l√§sst sich das demonstrieren, indem wir das Bisektionsskript als Funktion umschreiben.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file bisection.m</span>
<span class="k">function</span><span class="w"> </span>result<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">bisection</span><span class="p">(</span>xlower, xupper, tolerance, maxIterations<span class="p">)</span><span class="w"></span>
<span class="c">% find a zero of the polynomial </span>
<span class="c">%</span>
<span class="c">%      y(x)= -x^4 + x^3 - x^2 + x + 1</span>
<span class="c">%</span>
<span class="c">% in the interval xlower and xupper using bisection</span>
<span class="c">%</span>
<span class="c">% input:</span>
<span class="c">%   xlower:        lower bound for the zero.</span>
<span class="c">%   xupper:        upper bound for the zero. y(xupper) and y(xlower) must have </span>
<span class="c">%                  different signs!</span>
<span class="c">%   tolerance:     if the absolute value of y(x) is smaller than this, the point </span>
<span class="c">%                  x is considered to be a a zero.</span>
<span class="c">%   maxIterations: maximum number of iterations</span>
<span class="c">%</span>
<span class="c">% output:</span>
<span class="c">%   result:        the calculated zero of the given function</span>

<span class="c">% check if the bounds have function values with different signs</span>
<span class="n">fxlower</span> <span class="p">=</span>  <span class="o">-</span><span class="n">xlower</span>^<span class="mi">4</span> <span class="o">+</span> <span class="n">xlower</span>^<span class="mi">3</span> <span class="o">-</span> <span class="n">xlower</span>^<span class="mi">2</span> <span class="o">+</span> <span class="n">xlower</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">fxupper</span> <span class="p">=</span>  <span class="o">-</span><span class="n">xupper</span>^<span class="mi">4</span> <span class="o">+</span> <span class="n">xupper</span>^<span class="mi">3</span> <span class="o">-</span> <span class="n">xupper</span>^<span class="mi">2</span> <span class="o">+</span> <span class="n">xupper</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">if</span> <span class="nb">sign</span><span class="p">(</span><span class="n">fxupper</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sign</span><span class="p">(</span><span class="n">fxlower</span><span class="p">)</span>
    <span class="nb">error</span><span class="p">(</span><span class="s">&quot;The bounds xlower and xupper must be chosen, such that their function values have different signs.&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="c">% this variable is set to true once the iteration converged</span>
<span class="n">converged</span> <span class="p">=</span> <span class="nb">false</span><span class="p">;</span>

<span class="k">for</span> <span class="n">iteration</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="n">maxIterations</span>
    
    <span class="c">% take the middle between the two bounds</span>
    <span class="n">midpoint</span> <span class="p">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">xupper</span> <span class="o">+</span> <span class="n">xlower</span><span class="p">);</span>
    
    <span class="c">% check the function value at this point</span>
    <span class="n">fmidpoint</span> <span class="p">=</span> <span class="o">-</span><span class="n">midpoint</span>^<span class="mi">4</span> <span class="o">+</span> <span class="n">midpoint</span>^<span class="mi">3</span> <span class="o">-</span> <span class="n">midpoint</span>^<span class="mi">2</span> <span class="o">+</span> <span class="n">midpoint</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    
    <span class="c">% if the function value is small enough, we are done</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">fmidpoint</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tolerance</span>
        <span class="n">converged</span> <span class="p">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">end</span>
    
    <span class="c">% if we reach this point, we have not converged. </span>
    
    <span class="c">% reset the limits and repeat</span>
    <span class="k">if</span> <span class="n">fmidpoint</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="n">xupper</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">xlower</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="n">result</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>

<span class="k">if</span> <span class="n">converged</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;Converged in &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">iteration</span><span class="p">),</span> <span class="s">&quot; iterations. The solution is &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="s">&quot;.&quot;</span><span class="p">])</span>
<span class="k">else</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;No convergence to the specified tolerance of &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">tolerance</span><span class="p">),</span>  <span class="p">...</span>
          <span class="s">&quot; within &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">iteration</span><span class="p">),</span> <span class="s">&quot; iterations. The current error is &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">fmidpoint</span><span class="p">),</span> <span class="s">&quot;.&quot;</span><span class="p">])</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p>Im folgenden wird die neue Funktion verwendet. Die Grenzen <code class="docutils literal notranslate"><span class="pre">xlower</span></code> und <code class="docutils literal notranslate"><span class="pre">xupper</span></code> werden √ºber die Variable <code class="docutils literal notranslate"><span class="pre">a</span></code> und <code class="docutils literal notranslate"><span class="pre">b</span></code> an die Funktion √ºbergeben. Der Mittelpunkt des Startintervals wird in der Variable <code class="docutils literal notranslate"><span class="pre">midpoint</span></code> gespeichert.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">% define initial points and calculate the midpoint</span>
<span class="n">a</span> <span class="p">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="n">b</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">midpoint</span> <span class="p">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>

<span class="n">res</span> <span class="p">=</span> <span class="n">bisection</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mf">1e-8</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

<span class="nb">disp</span><span class="p">(</span><span class="n">midpoint</span><span class="p">)</span>
<span class="nb">disp</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Converged in 25 iterations. The solution is -0.51879.
0
-0.51879
</pre></div>
</div>
</div>
</div>
<p>Obwohl die Funktion ebenfalls eine Variable <code class="docutils literal notranslate"><span class="pre">midpoint</span></code> als Hilfsvariable in der Berechnung verwendet, bleibt die Variable au√üerhalb der Funktion unver√§ndert. Die beiden Variablen befinden sich in unterschiedlichen <em>Scopes</em>. Aus demselben Grund kann w√§hrend der Rechenvorschrift der Funktion auf keine Variablen mit dem Namen <code class="docutils literal notranslate"><span class="pre">a</span></code> oder <code class="docutils literal notranslate"><span class="pre">b</span></code> zur√ºckgegriffen werden.</p>
<p>Dieses Verhalten kann mit sogenannten globalen Variablen ausgehebelt werden, wie das folgende Beispiel demonstriert.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file increment_a.m</span>
<span class="k">function</span><span class="w"> </span><span class="nf">increment_a</span><span class="p">(</span>n<span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">global</span> <span class="n">a</span>
    <span class="n">a</span> <span class="p">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">n</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="k">global</span> <span class="n">a</span>
<span class="n">a</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="nb">disp</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">increment_a</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">disp</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">increment_a</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">disp</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
 2
 7
</pre></div>
</div>
</div>
</div>
<p>√úberall dort, wo der <em>scope</em> einer Variablen <code class="docutils literal notranslate"><span class="pre">x</span></code> erweitert werden soll, muss dies explizit durch die Zeile <code class="docutils literal notranslate"><span class="pre">global</span> <span class="pre">x</span></code> angegeben werden. In dem obigen Beispiel muss das also sowohl in der Funktion als auch im aufrufenden Skript geschehen.</p>
<p>Globale Variablen sollten sp√§rlich verwendet werden, da sie gerade die saubere Trennung von Eingabe, Ausgabe und Funktionsk√∂rper unterwandern und so f√ºr m√∂gliche Fehlerquellen sorgen.</p>
</div>
<div class="section" id="function-handles">
<h3>Function Handles<a class="headerlink" href="#function-handles" title="Permalink to this headline">¬∂</a></h3>
<p>Neben Funktionen am Ende eines Skriptes und Funktionen in separaten m-files, bietet Matlab die M√∂glichkeit Funktionen √ºber sogenannte <em>function handles</em> zu definieren. Ein <em>function handle</em> ist eine Variable, in der die Funktion gespeichert wird. function handles eignen sich besonders, um kurze einzeilige Funktionen zu definieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">myPolynomial</span> <span class="p">=</span> <span class="p">@(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span><span class="n">x</span><span class="o">.^</span><span class="mi">4</span> <span class="o">+</span> <span class="n">x</span><span class="o">.^</span><span class="mi">3</span> <span class="o">-</span> <span class="n">x</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="nb">class</span><span class="p">(</span><span class="n">myPolynomial</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ans = function_handle
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">myPolynomial</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ans = -3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">myPolynomial</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ans =  1
</pre></div>
</div>
</div>
</div>
<p>Mit einem vorangestellten <code class="docutils literal notranslate"><span class="pre">&#64;(x)</span></code> wird deklariert, dass <code class="docutils literal notranslate"><span class="pre">x</span></code> als Eingabeparameter f√ºr die Funktion interpretiert werden soll. Hier kann man auch eine Abh√§ngigkeit von mehreren Variablen deklarieren, z.B.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">norm2d</span> <span class="p">=</span> <span class="p">@(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="nb">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">.^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">.^</span><span class="mi">2</span><span class="p">);</span>
<span class="n">norm2d</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ans =  1.4142
</pre></div>
</div>
</div>
</div>
<p>Da die Funktion nun als Variable im Workspace gespeichert ist, k√∂nnen wir sie wie andere Variablen verwenden. Wir k√∂nnen sie auch als Eingabe an eine weitere Funktion √ºbergeben. So k√∂nnten wir zum Beispiel die Bisektionsfunktion so anpassen, dass sie als Eingabe eine beliebige Funktion in Form eines function handles erh√§lt. So k√∂nnen wir mit unserer Funktion Nullstellen beliebiger Funktionen finden. Die einzige Voraussetzung ist, dass wir die Nullstelle durch ein Interval sinnvoll eingeklammert haben und sich der function handle f√ºr alle Zwischenwerte auswerten l√§sst.</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file bisection.m</span>
<span class="k">function</span><span class="w"> </span>result<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">bisection</span><span class="p">(</span>f, xlower, xupper, tolerance, maxIterations<span class="p">)</span><span class="w"></span>
<span class="c">% bisection finds a zero of a function f in the interval xlower and xupper </span>
<span class="c">% using bisection</span>
<span class="c">%</span>
<span class="c">% input:</span>
<span class="c">%   f:             a function handle to the function f</span>
<span class="c">%   xlower:        lower bound for the zero.</span>
<span class="c">%   xupper:        upper bound for the zero. y(xupper) and y(xlower) must have </span>
<span class="c">%                  different signs!</span>
<span class="c">%   tolerance:     if the absolute value of y(x) is smaller than this, the point </span>
<span class="c">%                  x is considered to be a a zero.</span>
<span class="c">%   maxIterations: maximum number of iterations</span>
<span class="c">%</span>
<span class="c">% output:</span>
<span class="c">%   result:        the calculated zero of the given function</span>

<span class="c">% check if the bounds have function values with different signs</span>
<span class="k">if</span> <span class="nb">sign</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">xupper</span><span class="p">))</span> <span class="o">==</span> <span class="nb">sign</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">xlower</span><span class="p">))</span>
    <span class="nb">error</span><span class="p">(</span><span class="s">&quot;The bounds xlower and xupper must be chosen, such that their function values have different signs.&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="c">% this variable is set to true once the iteration converged</span>
<span class="n">converged</span> <span class="p">=</span> <span class="nb">false</span><span class="p">;</span>

<span class="k">for</span> <span class="n">iteration</span><span class="p">=</span><span class="mi">1</span><span class="p">:</span><span class="n">maxIterations</span>
    
    <span class="c">% take the middle between the two bounds</span>
    <span class="n">midpoint</span> <span class="p">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">xupper</span> <span class="o">+</span> <span class="n">xlower</span><span class="p">);</span>
    
    <span class="c">% check the function value at this point</span>
    <span class="n">fmidpoint</span> <span class="p">=</span> <span class="n">f</span><span class="p">(</span><span class="n">midpoint</span><span class="p">);</span>
    
    <span class="c">% if the function value is small enough, we are done</span>
    <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">fmidpoint</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tolerance</span>
        <span class="n">converged</span> <span class="p">=</span> <span class="nb">true</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">end</span>
    
    <span class="c">% if we reach this point, we have not converged. </span>
    
    <span class="c">% reset the limits and repeat</span>
    <span class="k">if</span> <span class="n">fmidpoint</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="n">xupper</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">xlower</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="n">result</span> <span class="p">=</span> <span class="n">midpoint</span><span class="p">;</span>

<span class="k">if</span> <span class="n">converged</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;Converged in &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">iteration</span><span class="p">),</span> <span class="s">&quot; iterations. The solution is &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="s">&quot;.&quot;</span><span class="p">])</span>
<span class="k">else</span>
    <span class="nb">disp</span><span class="p">([</span><span class="s">&quot;No convergence to the specified tolerance of &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">tolerance</span><span class="p">),</span>  <span class="p">...</span>
          <span class="s">&quot; within &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">iteration</span><span class="p">),</span> <span class="s">&quot; iterations. The current error is &quot;</span><span class="p">,</span> <span class="n">num2str</span><span class="p">(</span><span class="n">fmidpoint</span><span class="p">),</span> <span class="s">&quot;.&quot;</span><span class="p">])</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<p>Nicht nur haben wir die Funktion stark erweitert, da sie nun Nullstellen beliebiger Funktionen finden kann, wir haben auch eine potentielle Fehlerquelle beseitigt: Bisher wurde die Funktionsvorschrift des Polynoms an drei Stellen des Algorithmus verwendet. Wenn die Funktion nun ge√§ndert werden soll, passiert es schnell, dass sie nicht an allen Stellen ge√§ndert wird. In der neuen Version kann das nicht passieren, da √ºberall die Funktion <code class="docutils literal notranslate"><span class="pre">f</span></code> aus der Eingabe verwendet wird.</p>
<p>Die weiter oben √ºber ein function handle definierte Funktion <code class="docutils literal notranslate"><span class="pre">myPolynomial</span></code> kann nun als Eingabe verwendet werden:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">bisection</span><span class="p">(</span><span class="n">myPolynomial</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1e-12</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Converged in 40 iterations. The solution is -0.51879.
ans = -0.51879
</pre></div>
</div>
</div>
</div>
<p><strong>Quiz</strong>: Finden Sie die erste positive Nullstelle der Funktion <span class="math notranslate nohighlight">\(f(x)=-\cos(-\frac{1}{3}x^2 - \frac{1}{10}x + 1)\)</span>.</p>
<div class="cell tag_hide_input docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%plot f(x)= -cos(-0.33*x.^2-0.1*x +1)</span>
<span class="n">x</span> <span class="p">=</span> <span class="mi">0</span><span class="p">:</span><span class="nb">pi</span><span class="o">/</span><span class="mi">2000</span><span class="p">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">;</span>
<span class="nb">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">-</span><span class="nb">cos</span><span class="p">(</span><span class="o">-</span><span class="mf">0.33</span><span class="o">*</span><span class="n">x</span><span class="o">.^</span><span class="mi">2</span><span class="o">-</span><span class="mf">0.1</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="s">&#39;LineWidth&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nb">pi</span><span class="p">])</span>
<span class="k">set</span><span class="p">(</span><span class="nb">gca</span><span class="p">,</span> <span class="s">&#39;Box&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">,</span> <span class="s">&#39;XGrid&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">,</span> <span class="s">&#39;YGrid&#39;</span><span class="p">,</span> <span class="s">&#39;on&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/03_skripte_und_funktionen_66_0.png" src="../_images/03_skripte_und_funktionen_66_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">% space for quiz answer</span>
</pre></div>
</div>
</div>
</div>
<p>Aus Funktionen, die √ºber ein m-file definiert wurden lassen sich auch function handles erzeugen.</p>
<p>Function handles lassen sich durch ein vorangestelltes <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> vor dem Funktionsnamen erzeugen. Im folgenden Beispiel wird ein function handle <code class="docutils literal notranslate"><span class="pre">h</span></code> f√ºr die Funktion <code class="docutils literal notranslate"><span class="pre">bisection</span></code> erstellt. Die Funktion <code class="docutils literal notranslate"><span class="pre">bisection</span></code> wird anschlie√üend mittelbar √ºber das function handle <code class="docutils literal notranslate"><span class="pre">h</span></code> aufgerufen, um eine Nullstelle der Funktion <span class="math notranslate nohighlight">\(f(x) = 2x - \frac{1}{3}\)</span> aufzufinden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">h</span> <span class="p">=</span> <span class="p">@</span><span class="n">bisection</span>
<span class="nb">class</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="n">h</span><span class="p">(@(</span><span class="n">x</span><span class="p">)</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mf">0.33</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1e-8</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>h = @bisection
ans = function_handle
Converged in 27 iterations. The solution is 0.165.
ans =  0.16500
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="rekursion">
<h3>Rekursion<a class="headerlink" href="#rekursion" title="Permalink to this headline">¬∂</a></h3>
<p>Zum Schluss sei noch angemerkt, dass Funktionen sich selbst aufrufen k√∂nnen. In vielen F√§llen, in denen sich diese <em>Rekursion</em> anwenden l√§sst, sorgt ein rekursiver Aufruf f√ºr eine sehr kurze, pr√§gnante Schreibweise. So l√§sst sich die Fakult√§t wieder √ºber eine Auswertung der Fakukt√§t definieren:</p>
<div class="math notranslate nohighlight">
\[ n! = n \cdot (n-1)! \]</div>
<p>f√ºr alle <span class="math notranslate nohighlight">\(n \in \mathbb{N}\)</span> und <span class="math notranslate nohighlight">\(0! = 1\)</span>.</p>
<p>Als weiteres Beispiel f√ºr eine Rekursion sei die urspr√ºngliche Fibonacci-Folge angegeben. Die ersten beiden Zahlen der Fibonacci-Folge <span class="math notranslate nohighlight">\(a_n\)</span> sind <span class="math notranslate nohighlight">\(a_1 = 1, a_2 = 1\)</span>. Alle weiteren Zahlen ergeben sich aus der Summe der beiden vorherigen:</p>
<div class="math notranslate nohighlight">
\[ a_{n} = a_{n-1} + a_{n-2}.\]</div>
<p>Die ersten paar Zahlen der Fibonacci-Folge sind demnach:</p>
<div class="math notranslate nohighlight">
\[1,1,2,3,5,8,13,...\]</div>
<p>Das folgende Programm berechnet die <span class="math notranslate nohighlight">\(n\)</span>-te Fibonacci-Zahl:</p>
<div class="cell tag_remove-output docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="c">%%file fibonacci.m</span>
<span class="k">function</span><span class="w"> </span>out<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">fibonacci</span><span class="p">(</span>n<span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span> <span class="p">(</span><span class="n">n</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">out</span> <span class="p">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">else</span>
        <span class="n">out</span> <span class="p">=</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">);</span>
    <span class="k">end</span><span class="p">;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-octave notranslate"><div class="highlight"><pre><span></span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ans =  610
</pre></div>
</div>
</div>
</div>
<p>Die if-then-else-Anweisung garantiert, dass die Rekursion terminiert, da die Funktion im Funktionsk√∂rper immer nur f√ºr kleinere Zahlen aufgerufen wrid.</p>
<p><strong>Zusatzfrage:</strong> Wie ist der Algorithmus hinsichtlich der verwendeten Rechenoperationen zu bewerten? Ist er effizient implementiert oder l√§sst sich da etwas verbessern?</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "joergbrech/Modellbildung-und-Simulation",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "octave"
        },
        kernelOptions: {
            kernelName: "octave",
            path: "./13_matlab"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'octave'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="02_matlab_command_window.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Matlab Command Window</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="04_matlab_kennenlernen.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Rechnen mit Matlab</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Jan Kleinert<br/>
    
        &copy; Copyright 2020.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>